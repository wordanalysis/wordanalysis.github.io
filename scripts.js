function showScrollDown(){scrollDown.className="scrollDown scrollDownShowing"}function hideScrollDown(){scrollDown.className="scrollDown"}function infoClick(){if(0==infoCounter)info.style.display="block",resultsHeight=results.offsetHeight,info.style.marginTop=resultsHeight+"px",info.className="info infoShowing",infoButton.innerHTML="hide info",infoScrollPrompt.className="infoPromptHidden infoPromptShowing",setTimeout(function(){infoScrollPrompt.className="infoPromptHidden"},2e3),infoCounter=1;else if(1==infoCounter){info.className="info";var e=info.clientHeight;info.style.marginTop=resultsHeight-e-200+"px",infoButton.innerHTML="info",setTimeout(function(){info.style.display="none"},400),infoCounter=0}}function resetInfoPosition(){instructions.style.display="none"}function showInfoPosition(){instructions.style.display="block"}function makeScroll(e){var t=0,n=setInterval(function(){e/2>scrollValue&&t++,scrollValue>e/2&&(t--,1==t&&clearInterval(n))},10),o=setInterval(function(){window.scrollTo(0,scrollValue),scrollValue==e&&(clearInterval(o),scrollValue=1,t=1),e/2>scrollValue&&(scrollValue+=t),scrollValue>e/2&&(scrollValue+=t)},1);setTimeout(function(){clearInterval(o)},1e3)}function puncSwitcher(){0==puncCounter?(puncBg.setAttribute("class","firstTogglebg bgon"),puncToggle.setAttribute("class","firstToggleSwitcher switcheron"),removePunctuation.setAttribute("class","question removePunctuation"),puncCounter=1):(puncBg.setAttribute("class","firstTogglebg"),puncToggle.setAttribute("class","firstToggleSwitcher"),removePunctuation.setAttribute("class","question removePunctuation questionDisabled"),puncCounter=0)}function wikiSwitch(){0==wikiCounter?(wikibg.setAttribute("class","secondTogglebg bgon"),wikiToggle.setAttribute("class","secondToggleSwitcher switcheron"),removeWiki.setAttribute("class","question wiki"),wikiCounter=1):(wikibg.setAttribute("class","secondTogglebg"),wikiToggle.setAttribute("class","secondToggleSwitcher"),removeWiki.setAttribute("class","question wiki questionDisabled"),wikiCounter=0)}function wordEntry(e,t){this.word=e,this.occurance=t}function checkUniq(e){for(var t={},n=[],o=e.length,r=0;o>r;r++){var i=e[r];1!==t[i]&&(t[i]=1,n[j++]=i)}return n}function analysis(e){resetInfoPosition(),text=input.value,text=text.substring(0,text.length-e),text=text.replace(/\n/g," "),text=text.replace(/\s\s/g," "),text=text.replace(/[.,\/#+*?!$%\^&\*;:{}=\-_`~()]/g,""),0==wikiCounter&&(text=text.replace(/\[\]/g,"")),text=text.replace(/\s{2,}/g," "),text=text.toLowerCase();var t=text.charAt(text.length-1);" "==t&&(text=text.substring(0,text.length-1));var n=text.split(" ");for(totalWords=n.length,totalWordsText.innerHTML="Total Words: "+totalWords,100>totalWords&&(moreWordsContainer.style.display="block",setTimeout(function(){moreWordsContainer.className="moreWordsContainer moreWordsShowing"},700),setTimeout(function(){moreWordsContainer.className="moreWordsContainer",setTimeout(function(){moreWordsContainer.style.display="none"},1e3)},4e3)),i=0;i<n.length;i+=1){n[i]in words||(words[n[i]]=new wordEntry(n[i],0));var o=n[i];for(j=0;j<n.length;j++)o==n[j]&&words[n[i]].occurance++}for(i=0;i<n.length;i++){if(1!=words[n[i]].occurance){var r=Math.sqrt(words[n[i]].occurance);r%1==0&&(words[n[i]].occurance=r)}words[n[i]].percentage=(words[n[i]].occurance/totalWords*100).toFixed(3)}var s=Object.keys(words).length,l=checkUniq(n);uniqueWordsText.innerHTML="Unique Words: "+s;var c;for(c in l)percentages.push(words[l[c]].percentage),wordObjects.push(words[l[c]]);var a,u=[],d=0,m=0;for(a=0;a<wordObjects.length;a++)wordObjects.sort(function(e,t){return parseFloat(e.occurance)-parseFloat(t.occurance)}),wordObjects.reverse(),d=100/wordObjects[0].percentage,u.push(wordObjects[a].percentage*d);for(tempCounter=0;tempCounter<wordObjects.length;tempCounter++){var g=document.createElement("div");g.className="graphBar "+wordObjects[tempCounter].word,g.style.left=m+"px",g.style.height=u[tempCounter]+"%",graph.appendChild(g),m+=40;var w=document.createElement("div");w.className="wordName";var h=wordObjects[tempCounter].percentage+"%",p=document.createTextNode(h),f=document.createTextNode(" | "),y=wordObjects[tempCounter].word,b=document.createTextNode(y);w.appendChild(b),w.appendChild(f),w.appendChild(p),w.style.left=leftpx+"px",wordNameConstraint.appendChild(w),leftpx+=40}percentages.reverse();var C=wordObjects[0].percentage;q4.innerHTML=Math.round(C)+"%",q3.innerHTML=Math.round(C/4*3)+"%",q2.innerHTML=Math.round(C/4*2)+"%",q1.innerHTML=Math.round(C/4)+"%";var T=!0,k=0,x=[];for(v=0;v<wordObjects.length;v++){for(T=!0,cmn=0;cmn<commonWords.length;cmn++)wordObjects[v].word==commonWords[cmn]&&(T=!1);if(1==T&&(x.push(v),k++),10==k||k==wordObjects.length)break}for(str=0;str<x.length;str++){var E=document.createElement("div");str%2==0&&(E.className="topWordElementEven"),str%2!=0&&(E.className="topWordElementOdd");var B=x[str],I=wordObjects[B].word,N=wordObjects[B].occurance,S=document.createTextNode(I+" - "),W=document.createTextNode(" occurance: "+N);E.appendChild(S),E.appendChild(W),strangeList.appendChild(E)}var O=0;for(O;10>O;O++){var q=document.createElement("div");O%2==0&&(q.className="topWordElementEven"),O%2!=0&&(q.className="topWordElementOdd");var D=document.createTextNode(wordObjects[O].word+" - "),H=document.createTextNode("  occurance: "+wordObjects[O].occurance);if(q.appendChild(D),q.appendChild(H),topTenList.appendChild(q),9==O||O==wordObjects.length-1)break}calculating=1,1==calculating&&(loading.style.opacity="0",setTimeout(function(){loading.style.display="none"},300))}function showResults(){results.style.display="block",setTimeout(function(){results.className="results resultsShowing"},1)}function hideResults(){results.className="results",setTimeout(function(){results.style.display="none"},400)}function showEnter(){enterContainer.className="enterContainer enterShowing"}function hideEnter(){enterContainer.className="enterContainer"}function loadingScreen(){loading.style.display="block",setTimeout(function(){loading.style.opacity="1"},1)}function enterAction(){"analyse analyseable"==analyse.className&&(loadingScreen(),setTimeout(function(){blurClick.style.transition="700ms ease-in-out",blurClick.style.left="-10%",blurClick.style.opacity="0",showResults(),disabled=1,setTimeout(function(){analysis(1)},10)},10)),input.blur(),enterDisabled=1}function checkEnter(e){return keyCodevar=event.keyCode,13==keyCodevar?0==enterCount&&0==hadClicked?(enterCount++,hadClicked++,showEnter(),!1):(0==enterDisabled&&enterAction(),enterCount=0,setTimeout(function(){hideEnter()},1e3),!1):13!=keyCodevar&&1==hadClicked?(enterContainer.style.transition="500ms ease-in-out",hideEnter(),setTimeout(function(){enterContainer.style.transition="100ms ease-in-out"},500),enterCount=0,hadClicked=0,!1):13!=keyCodevar?(enterCount=0,!1):void 0}var input=document.getElementById("input"),bg=document.getElementById("blurClick"),analyse=document.getElementById("analyse"),results=document.getElementById("results"),graph=document.getElementById("graph"),q1=document.getElementById("q1"),q2=document.getElementById("q2"),q3=document.getElementById("q3"),q4=document.getElementById("q4"),totalWords=document.getElementById("totalWords"),punctuation=document.getElementById("firstToggle"),puncBg=document.getElementById("firstTogglebg"),puncToggle=document.getElementById("firstToggleSwitcher"),removePunctuation=document.getElementById("removePunctuation"),wiki=document.getElementById("secondToggle"),wikibg=document.getElementById("secondTogglebg"),wikiToggle=document.getElementById("secondToggleSwitcher"),removeWiki=document.getElementById("removeWiki"),wordNameConstraint=document.getElementById("wordNameConstraint"),leftpx=0,totalWordsText=document.getElementById("totalWords"),uniqueWordsText=document.getElementById("totalUniqueWords"),moreWordsContainer=document.getElementById("moreWordsContainer"),topTenList=document.getElementById("topTenList"),commonWords=["the","be","to","of","and","a","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from","they","we","say","her","she","or","an","will","my","one","all","would","there","their","what","so","up","out","if","about","who","get","which","go","me","when","make","can","like","time","no","just","him","know","take","person","into","year","your","good","some","could","them","see","other","than","then","now","look","only","come","its","over","think","also","back","use","two","how","our","work","first","well","way","even","new","want","because","any","these","any","these","give","day","most","us","is","was","were","has","are"],strangeList=document.getElementById("topTenUncommon"),scrollDown=document.getElementById("scrollDown"),docHeight=window.innerHeight,instructions=document.getElementById("instructions"),scrollValue=1,loading=document.getElementById("loading"),loaded=!1,infoButton=document.getElementById("showInfo"),yScroll=document.body.scrollTop,reset=document.getElementById("reset"),info=document.getElementById("info"),resultsHeight=results.offsetHeight,infoScrollPrompt=document.getElementById("infoScrollPrompt"),warningBox=document.getElementById("warning"),warningText=document.getElementById("warningText"),calculating=0;window.onscroll=function(){yScroll=document.body.scrollTop,10>=yScroll&&showScrollDown(),yScroll>10&&hideScrollDown()};var infoCounter=0;info.style.display="none",infoButton.onclick=function(){infoClick()},scrollDown.onclick=function(){scrollDown.className="scrollDown",makeScroll(docHeight)};var puncCounter=1;punctuation.onclick=function(){puncSwitcher()};var wikiCounter=1,browser=navigator.sayswho=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}(),ChromeRegEx=/^C/i,SafariRegEx=/^S/i;(ChromeRegEx.test(browser)||SafariRegEx.test(browser))!==!0&&(warningBox.style.display="block",warningBox.className="warningBox warningShowing",setTimeout(function(){warningBox.className="warningBox"},6e3),setTimeout(function(){warningBox.style.display="none"},7e3),warningText.innerHTML="Warning! Your browser ("+browser+") is incompatable with parts of this website. If you are recieving a slow or unresponsive experience, consider using one of our supported browsers, such as Chrome or Safari"),window.onload=function(){wikiSwitch(),setTimeout(function(){scrollDown.className="scrollDown scrollDownShowing"},500),window.scrollTo(0,0)},wiki.onclick=function(){wikiSwitch()},input.onfocus=function(){input.className="input focused",input.onkeyup=function(){input.value.length>0&&(analyse.className="analyse analyseable"),0==input.value.length&&(analyse.className="analyse")}},input.onblur=function(){input.className="input"};var text="",crudeWords=[],words={},totalWords=0,percentages=[],wordObjects=[],enterContainer=document.getElementById("enterContainer"),hadClicked=0,enterCount=0,keyCodevar,disabled=0,enterDisabled=0;0==disabled&&(analyse.onclick=function(){enterAction()}),reset.onclick=function(){location.reload(!0)};
